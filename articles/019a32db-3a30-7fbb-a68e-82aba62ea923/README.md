## 数学の勉強　超越関数について

`sin`や`cos`は「超越関数」というらしい。かっこいいね。

足し算・引き算・掛け算・割り算・平方根などを有限回くり返して作れる数を**代数的関数**と呼び、そうでないものを**超越数**／**超越関数**と呼ぶ。

各関数をテイラー展開（マクローリン展開＝x=0中心のテイラー展開）すると次のように表せて、プログラミングにおける一般的な演算では、誤差が対象の値型で表せる十分小さな数になるまで行なって近似している。

```
sin(x) = x - (x^3 / 3!) + (x^5 / 5!) - (x^7 / 7!) + ...
cos(x) = 1 - (x^2 / 2!) + (x^4 / 4!) - (x^6 / 6!) + ...
```

テイラー展開ってなにさ

```
sin(x) = a0 + a1*x + a2*x^2 + a3*x^3 + ...
```

として、a0,a1,a2,...をうまく決めたらsin(x)に限りなく近づけられるよねという話。決め方は……別の機会に学ぶ。

ともかく、プログラミングではsin(x)、cos(x)のような値は近似値である。

Pythonのmathのsin, cosはfloat型（IEEE 754倍精度浮動小数点数）で表せる十分小さな値で表現できる範囲まで、任意精度演算では指定した精度で表現できる範囲まで、ということになる

```
$ uv run --with mpmath python
Installed 1 package in 1ms
Python 3.12.3 (main, Aug 14 2025, 17:47:21) [GCC 13.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
Ctrl click to launch VS Code Native REPL
>>> from math import sin
>>> print(sin(1))
0.8414709848078965
>>> import mpmath
>>> mp1 = mpmath.MPContext()
>>> mp1.dps = 50
>>> print(mp1.sin(1))
0.84147098480789650665250232163029899962256306079837
```

mpmathは外部ライブラリで、標準ライブラリの任意精度演算であるdecimalにはsinは含まれていない。だけど、要は自前でテイラー展開を実装すればよい。

```
$ python3 decimal_sin.py 
0.84147098480789650665250232163029899962256306079837
```

全桁ちゃんと一致している。
